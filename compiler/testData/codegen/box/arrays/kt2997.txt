MODULE <test-module>
  FILE /kt2997.kt
    FUN public fun foo(/*0*/ a: kotlin.Any): kotlin.Int
      BLOCK_BODY
        WHEN type=kotlin.Unit operator=IF
          if: TYPE_OP operator=INSTANCEOF typeOperand=kotlin.IntArray
            GET_VAR a type=kotlin.Any operator=null
          then: BLOCK type=kotlin.Nothing operator=null
            CALL .get type=kotlin.Int operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.IntArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
            CALL .set type=kotlin.Unit operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.IntArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
              value: CONST Int type=kotlin.Int value='1'
            CALL .iterator type=kotlin.collections.IntIterator operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.IntArray
                GET_VAR a type=kotlin.Any operator=null
            RETURN type=kotlin.Nothing from=foo
              CALL .<get-size> type=kotlin.Int operator=GET_PROPERTY
                $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.IntArray
                  GET_VAR a type=kotlin.Any operator=null
        WHEN type=kotlin.Unit operator=IF
          if: TYPE_OP operator=INSTANCEOF typeOperand=kotlin.ShortArray
            GET_VAR a type=kotlin.Any operator=null
          then: BLOCK type=kotlin.Nothing operator=null
            CALL .get type=kotlin.Short operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.ShortArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
            CALL .set type=kotlin.Unit operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.ShortArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
              value: CONST Short type=kotlin.Short value='1'
            CALL .iterator type=kotlin.collections.ShortIterator operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.ShortArray
                GET_VAR a type=kotlin.Any operator=null
            RETURN type=kotlin.Nothing from=foo
              CALL .<get-size> type=kotlin.Int operator=GET_PROPERTY
                $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.ShortArray
                  GET_VAR a type=kotlin.Any operator=null
        WHEN type=kotlin.Unit operator=IF
          if: TYPE_OP operator=INSTANCEOF typeOperand=kotlin.ByteArray
            GET_VAR a type=kotlin.Any operator=null
          then: BLOCK type=kotlin.Nothing operator=null
            CALL .get type=kotlin.Byte operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.ByteArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
            CALL .set type=kotlin.Unit operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.ByteArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
              value: CONST Byte type=kotlin.Byte value='1'
            CALL .iterator type=kotlin.collections.ByteIterator operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.ByteArray
                GET_VAR a type=kotlin.Any operator=null
            RETURN type=kotlin.Nothing from=foo
              CALL .<get-size> type=kotlin.Int operator=GET_PROPERTY
                $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.ByteArray
                  GET_VAR a type=kotlin.Any operator=null
        WHEN type=kotlin.Unit operator=IF
          if: TYPE_OP operator=INSTANCEOF typeOperand=kotlin.FloatArray
            GET_VAR a type=kotlin.Any operator=null
          then: BLOCK type=kotlin.Nothing operator=null
            CALL .get type=kotlin.Float operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.FloatArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
            CALL .set type=kotlin.Unit operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.FloatArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
              value: CALL .toFloat type=kotlin.Float operator=null
                $this: CONST Int type=kotlin.Int value='1'
            CALL .iterator type=kotlin.collections.FloatIterator operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.FloatArray
                GET_VAR a type=kotlin.Any operator=null
            RETURN type=kotlin.Nothing from=foo
              CALL .<get-size> type=kotlin.Int operator=GET_PROPERTY
                $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.FloatArray
                  GET_VAR a type=kotlin.Any operator=null
        WHEN type=kotlin.Unit operator=IF
          if: TYPE_OP operator=INSTANCEOF typeOperand=kotlin.DoubleArray
            GET_VAR a type=kotlin.Any operator=null
          then: BLOCK type=kotlin.Nothing operator=null
            CALL .get type=kotlin.Double operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.DoubleArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
            CALL .set type=kotlin.Unit operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.DoubleArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
              value: CONST Double type=kotlin.Double value='1.0'
            CALL .iterator type=kotlin.collections.DoubleIterator operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.DoubleArray
                GET_VAR a type=kotlin.Any operator=null
            RETURN type=kotlin.Nothing from=foo
              CALL .<get-size> type=kotlin.Int operator=GET_PROPERTY
                $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.DoubleArray
                  GET_VAR a type=kotlin.Any operator=null
        WHEN type=kotlin.Unit operator=IF
          if: TYPE_OP operator=INSTANCEOF typeOperand=kotlin.BooleanArray
            GET_VAR a type=kotlin.Any operator=null
          then: BLOCK type=kotlin.Nothing operator=null
            CALL .get type=kotlin.Boolean operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.BooleanArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
            CALL .set type=kotlin.Unit operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.BooleanArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
              value: CONST Boolean type=kotlin.Boolean value='false'
            CALL .iterator type=kotlin.collections.BooleanIterator operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.BooleanArray
                GET_VAR a type=kotlin.Any operator=null
            RETURN type=kotlin.Nothing from=foo
              CALL .<get-size> type=kotlin.Int operator=GET_PROPERTY
                $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.BooleanArray
                  GET_VAR a type=kotlin.Any operator=null
        WHEN type=kotlin.Unit operator=IF
          if: TYPE_OP operator=INSTANCEOF typeOperand=kotlin.CharArray
            GET_VAR a type=kotlin.Any operator=null
          then: BLOCK type=kotlin.Nothing operator=null
            CALL .get type=kotlin.Char operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.CharArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
            CALL .set type=kotlin.Unit operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.CharArray
                GET_VAR a type=kotlin.Any operator=null
              index: CONST Int type=kotlin.Int value='0'
              value: CONST Char type=kotlin.Char value='a'
            CALL .iterator type=kotlin.collections.CharIterator operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.CharArray
                GET_VAR a type=kotlin.Any operator=null
            RETURN type=kotlin.Nothing from=foo
              CALL .<get-size> type=kotlin.Int operator=GET_PROPERTY
                $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.CharArray
                  GET_VAR a type=kotlin.Any operator=null
        WHEN type=kotlin.Unit operator=IF
          if: TYPE_OP operator=INSTANCEOF typeOperand=kotlin.Array<*>
            GET_VAR a type=kotlin.Any operator=null
          then: BLOCK type=kotlin.Nothing operator=null
            WHEN type=kotlin.Unit operator=IF
              if: CALL .GT0 type=kotlin.Boolean operator=GT
                arg0: CALL .compareTo type=kotlin.Int operator=GT
                  $this: CALL .<get-size> type=kotlin.Int operator=GET_PROPERTY
                    $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.Array<out kotlin.Any?>
                      GET_VAR a type=kotlin.Any operator=null
                  other: CONST Int type=kotlin.Int value='0'
              then: CALL .get type=kotlin.Any? operator=null
                $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.Array<out kotlin.Any?>
                  GET_VAR a type=kotlin.Any operator=null
                index: CONST Int type=kotlin.Int value='0'
            CALL .iterator type=kotlin.collections.Iterator<kotlin.Any?> operator=null
              $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.Array<out kotlin.Any?>
                GET_VAR a type=kotlin.Any operator=null
            RETURN type=kotlin.Nothing from=foo
              CALL .<get-size> type=kotlin.Int operator=GET_PROPERTY
                $this: TYPE_OP operator=IMPLICIT_CAST typeOperand=kotlin.Array<out kotlin.Any?>
                  GET_VAR a type=kotlin.Any operator=null
        RETURN type=kotlin.Nothing from=foo
          CONST Int type=kotlin.Int value='0'
    FUN public fun box(): kotlin.String
      BLOCK_BODY
        VAR val iA: kotlin.IntArray
          CALL .<init> type=kotlin.IntArray operator=null
            size: CONST Int type=kotlin.Int value='1'
        WHEN type=kotlin.Unit operator=IF
          if: CALL .NOT type=kotlin.Boolean operator=EXCLEQ
            arg0: CALL .EQEQ type=kotlin.Boolean operator=EXCLEQ
              arg0: CALL .foo type=kotlin.Int operator=null
                a: GET_VAR iA type=kotlin.IntArray operator=null
              arg1: CONST Int type=kotlin.Int value='1'
          then: RETURN type=kotlin.Nothing from=box
            CONST String type=kotlin.String value='fail int[]'
        VAR val sA: kotlin.ShortArray
          CALL .<init> type=kotlin.ShortArray operator=null
            size: CONST Int type=kotlin.Int value='1'
        WHEN type=kotlin.Unit operator=IF
          if: CALL .NOT type=kotlin.Boolean operator=EXCLEQ
            arg0: CALL .EQEQ type=kotlin.Boolean operator=EXCLEQ
              arg0: CALL .foo type=kotlin.Int operator=null
                a: GET_VAR sA type=kotlin.ShortArray operator=null
              arg1: CONST Int type=kotlin.Int value='1'
          then: RETURN type=kotlin.Nothing from=box
            CONST String type=kotlin.String value='fail short[]'
        VAR val bA: kotlin.ByteArray
          CALL .<init> type=kotlin.ByteArray operator=null
            size: CONST Int type=kotlin.Int value='1'
        WHEN type=kotlin.Unit operator=IF
          if: CALL .NOT type=kotlin.Boolean operator=EXCLEQ
            arg0: CALL .EQEQ type=kotlin.Boolean operator=EXCLEQ
              arg0: CALL .foo type=kotlin.Int operator=null
                a: GET_VAR bA type=kotlin.ByteArray operator=null
              arg1: CONST Int type=kotlin.Int value='1'
          then: RETURN type=kotlin.Nothing from=box
            CONST String type=kotlin.String value='fail byte[]'
        VAR val fA: kotlin.FloatArray
          CALL .<init> type=kotlin.FloatArray operator=null
            size: CONST Int type=kotlin.Int value='1'
        WHEN type=kotlin.Unit operator=IF
          if: CALL .NOT type=kotlin.Boolean operator=EXCLEQ
            arg0: CALL .EQEQ type=kotlin.Boolean operator=EXCLEQ
              arg0: CALL .foo type=kotlin.Int operator=null
                a: GET_VAR fA type=kotlin.FloatArray operator=null
              arg1: CONST Int type=kotlin.Int value='1'
          then: RETURN type=kotlin.Nothing from=box
            CONST String type=kotlin.String value='fail float[]'
        VAR val dA: kotlin.DoubleArray
          CALL .<init> type=kotlin.DoubleArray operator=null
            size: CONST Int type=kotlin.Int value='1'
        WHEN type=kotlin.Unit operator=IF
          if: CALL .NOT type=kotlin.Boolean operator=EXCLEQ
            arg0: CALL .EQEQ type=kotlin.Boolean operator=EXCLEQ
              arg0: CALL .foo type=kotlin.Int operator=null
                a: GET_VAR dA type=kotlin.DoubleArray operator=null
              arg1: CONST Int type=kotlin.Int value='1'
          then: RETURN type=kotlin.Nothing from=box
            CONST String type=kotlin.String value='fail double[]'
        VAR val boolA: kotlin.BooleanArray
          CALL .<init> type=kotlin.BooleanArray operator=null
            size: CONST Int type=kotlin.Int value='1'
        WHEN type=kotlin.Unit operator=IF
          if: CALL .NOT type=kotlin.Boolean operator=EXCLEQ
            arg0: CALL .EQEQ type=kotlin.Boolean operator=EXCLEQ
              arg0: CALL .foo type=kotlin.Int operator=null
                a: GET_VAR boolA type=kotlin.BooleanArray operator=null
              arg1: CONST Int type=kotlin.Int value='1'
          then: RETURN type=kotlin.Nothing from=box
            CONST String type=kotlin.String value='fail boolean[]'
        VAR val cA: kotlin.CharArray
          CALL .<init> type=kotlin.CharArray operator=null
            size: CONST Int type=kotlin.Int value='1'
        WHEN type=kotlin.Unit operator=IF
          if: CALL .NOT type=kotlin.Boolean operator=EXCLEQ
            arg0: CALL .EQEQ type=kotlin.Boolean operator=EXCLEQ
              arg0: CALL .foo type=kotlin.Int operator=null
                a: GET_VAR cA type=kotlin.CharArray operator=null
              arg1: CONST Int type=kotlin.Int value='1'
          then: RETURN type=kotlin.Nothing from=box
            CONST String type=kotlin.String value='fail char[]'
        VAR val oA: kotlin.Array<kotlin.Int?>
          CALL .arrayOfNulls type=kotlin.Array<kotlin.Int?> operator=null
            size: CONST Int type=kotlin.Int value='1'
        WHEN type=kotlin.Unit operator=IF
          if: CALL .NOT type=kotlin.Boolean operator=EXCLEQ
            arg0: CALL .EQEQ type=kotlin.Boolean operator=EXCLEQ
              arg0: CALL .foo type=kotlin.Int operator=null
                a: GET_VAR oA type=kotlin.Array<kotlin.Int?> operator=null
              arg1: CONST Int type=kotlin.Int value='1'
          then: RETURN type=kotlin.Nothing from=box
            CONST String type=kotlin.String value='fail Any[]'
        VAR val sArray: kotlin.Array<kotlin.String?>
          CALL .arrayOfNulls type=kotlin.Array<kotlin.String?> operator=null
            size: CONST Int type=kotlin.Int value='0'
        WHEN type=kotlin.Unit operator=IF
          if: CALL .NOT type=kotlin.Boolean operator=EXCLEQ
            arg0: CALL .EQEQ type=kotlin.Boolean operator=EXCLEQ
              arg0: CALL .foo type=kotlin.Int operator=null
                a: GET_VAR sArray type=kotlin.Array<kotlin.String?> operator=null
              arg1: CONST Int type=kotlin.Int value='0'
          then: RETURN type=kotlin.Nothing from=box
            CONST String type=kotlin.String value='fail String[]'
        RETURN type=kotlin.Nothing from=box
          CONST String type=kotlin.String value='OK'
