MODULE <test-module>
  FILE /kt529.kt
    FUN public fun box(): kotlin.String
      BLOCK_BODY
        VAR val input: java.io.StringReader
          CALL .<init> type=java.io.StringReader operator=null
            p0: CONST String type=kotlin.String value='/aaa/bbb/ccc/ddd'
        VAR val luhny: mask.Luhny
          CALL .<init> type=mask.Luhny operator=null
        CALL .forEachChar type=kotlin.Unit operator=null
          $receiver: GET_VAR input type=java.io.StringReader operator=null
          body: BLOCK type=(kotlin.Char) -> kotlin.Unit operator=LAMBDA
            FUN local final fun <anonymous>(/*0*/ it: kotlin.Char): kotlin.Unit
              BLOCK_BODY
                RETURN type=kotlin.Nothing from=<anonymous>
                  CALL .process type=kotlin.Unit operator=null
                    $this: GET_VAR luhny type=mask.Luhny operator=null
                    it: GET_VAR it type=kotlin.Char operator=null
            CALLABLE_REFERENCE <anonymous> type=(kotlin.Char) -> kotlin.Unit operator=LAMBDA
        CALL .printAll type=kotlin.Unit operator=null
          $this: GET_VAR luhny type=mask.Luhny operator=null
        RETURN type=kotlin.Nothing from=box
          CONST String type=kotlin.String value='OK'
    CLASS CLASS Luhny
      CONSTRUCTOR public constructor Luhny()
        BLOCK_BODY
          DELEGATING_CONSTRUCTOR_CALL Any
          INSTANCE_INITIALIZER_CALL classDescriptor=Luhny
      PROPERTY private final val buffer: java.util.ArrayDeque<kotlin.Char>
        EXPRESSION_BODY
          CALL .<init> type=java.util.ArrayDeque<kotlin.Char> operator=null
      PROPERTY private final val digits: java.util.ArrayDeque<kotlin.Int>
        EXPRESSION_BODY
          CALL .<init> type=java.util.ArrayDeque<kotlin.Int> operator=null
            p0: CONST Int type=kotlin.Int value='16'
      PROPERTY private final var toBeMasked: kotlin.Int
        EXPRESSION_BODY
          CONST Int type=kotlin.Int value='0'
      FUN public final fun process(/*0*/ it: kotlin.Char): kotlin.Unit
        BLOCK_BODY
          CALL .addLast type=kotlin.Unit operator=null
            $this: CALL .<get-buffer> type=java.util.ArrayDeque<kotlin.Char> operator=GET_PROPERTY
              $this: THIS public final class Luhny type=mask.Luhny
            p0: GET_VAR it type=kotlin.Char operator=null
          WHEN type=kotlin.Unit operator=WHEN
            if: CALL .isDigit type=kotlin.Boolean operator=null
              $receiver: GET_VAR it type=kotlin.Char operator=null
            then: BLOCK type=kotlin.Unit operator=null
              CALL .addLast type=kotlin.Unit operator=null
                $this: CALL .<get-digits> type=java.util.ArrayDeque<kotlin.Int> operator=GET_PROPERTY
                  $this: THIS public final class Luhny type=mask.Luhny
                p0: CALL .minus type=kotlin.Int operator=MINUS
                  $this: GET_VAR it type=kotlin.Char operator=null
                  other: CONST Char type=kotlin.Char value='0'
            if: WHEN type=kotlin.Boolean operator=OROR
              if: CALL .EQEQ type=kotlin.Boolean operator=EQEQ
                arg0: GET_VAR it type=kotlin.Char operator=null
                arg1: CONST Char type=kotlin.Char value=' '
              then: CONST Boolean type=kotlin.Boolean value='true'
              else: CALL .EQEQ type=kotlin.Boolean operator=EQEQ
                arg0: GET_VAR it type=kotlin.Char operator=null
                arg1: CONST Char type=kotlin.Char value='-'
            then: BLOCK type=kotlin.Unit operator=null
            else: BLOCK type=kotlin.Unit operator=null
              CALL .printAll type=kotlin.Unit operator=null
                $this: THIS public final class Luhny type=mask.Luhny
          WHEN type=kotlin.Unit operator=IF
            if: CALL .GT0 type=kotlin.Boolean operator=GT
              arg0: CALL .compareTo type=kotlin.Int operator=GT
                $this: CALL .<get-size> type=kotlin.Int operator=GET_PROPERTY
                  $this: CALL .<get-digits> type=java.util.ArrayDeque<kotlin.Int> operator=GET_PROPERTY
                    $this: THIS public final class Luhny type=mask.Luhny
                other: CONST Int type=kotlin.Int value='16'
            then: CALL .printOneDigit type=kotlin.Unit operator=null
              $this: THIS public final class Luhny type=mask.Luhny
          CALL .check type=kotlin.Unit operator=null
            $this: THIS public final class Luhny type=mask.Luhny
      FUN private final fun check(): kotlin.Unit
        BLOCK_BODY
          VAR val size: kotlin.Int
            CALL .<get-size> type=kotlin.Int operator=GET_PROPERTY
              $this: CALL .<get-digits> type=java.util.ArrayDeque<kotlin.Int> operator=GET_PROPERTY
                $this: THIS public final class Luhny type=mask.Luhny
          WHEN type=kotlin.Unit operator=IF
            if: CALL .LT0 type=kotlin.Boolean operator=LT
              arg0: CALL .compareTo type=kotlin.Int operator=LT
                $this: GET_VAR size type=kotlin.Int operator=null
                other: CONST Int type=kotlin.Int value='14'
            then: RETURN type=kotlin.Nothing from=check
          VAR val sum: kotlin.Int
            CALL .sum type=kotlin.Int operator=null
              $receiver: CALL .<get-digits> type=java.util.ArrayDeque<kotlin.Int> operator=GET_PROPERTY
                $this: THIS public final class Luhny type=mask.Luhny
              f: BLOCK type=(kotlin.Int, kotlin.Int) -> kotlin.Int operator=LAMBDA
                FUN local final fun <anonymous>(/*0*/ i: kotlin.Int, /*1*/ d: kotlin.Int): kotlin.Int
                  BLOCK_BODY
                    RETURN type=kotlin.Nothing from=<anonymous>
                      WHEN type=kotlin.Int operator=IF
                        if: CALL .EQEQ type=kotlin.Boolean operator=EQEQ
                          arg0: CALL .mod type=kotlin.Int operator=PERC
                            $this: GET_VAR i type=kotlin.Int operator=null
                            other: CONST Int type=kotlin.Int value='2'
                          arg1: CALL .mod type=kotlin.Int operator=PERC
                            $this: GET_VAR size type=kotlin.Int operator=null
                            other: CONST Int type=kotlin.Int value='2'
                        then: CALL .double type=kotlin.Int operator=null
                          $this: THIS public final class Luhny type=mask.Luhny
                          d: GET_VAR d type=kotlin.Int operator=null
                        else: GET_VAR d type=kotlin.Int operator=null
                CALLABLE_REFERENCE <anonymous> type=(kotlin.Int, kotlin.Int) -> kotlin.Int operator=LAMBDA
          WHEN type=kotlin.Unit operator=IF
            if: CALL .EQEQ type=kotlin.Boolean operator=EQEQ
              arg0: CALL .mod type=kotlin.Int operator=PERC
                $this: GET_VAR sum type=kotlin.Int operator=null
                other: CONST Int type=kotlin.Int value='10'
              arg1: CONST Int type=kotlin.Int value='0'
            then: CALL .<set-toBeMasked> type=kotlin.Unit operator=EQ
              $this: THIS public final class Luhny type=mask.Luhny
              <set-?>: CALL .<get-size> type=kotlin.Int operator=GET_PROPERTY
                $this: CALL .<get-digits> type=java.util.ArrayDeque<kotlin.Int> operator=GET_PROPERTY
                  $this: THIS public final class Luhny type=mask.Luhny
      FUN private final fun double(/*0*/ d: kotlin.Int): kotlin.Int
        BLOCK_BODY
          RETURN type=kotlin.Nothing from=double
            CALL .plus type=kotlin.Int operator=PLUS
              $this: CALL .div type=kotlin.Int operator=DIV
                $this: CALL .times type=kotlin.Int operator=MUL
                  $this: GET_VAR d type=kotlin.Int operator=null
                  other: CONST Int type=kotlin.Int value='2'
                other: CONST Int type=kotlin.Int value='10'
              other: CALL .mod type=kotlin.Int operator=PERC
                $this: CALL .times type=kotlin.Int operator=MUL
                  $this: GET_VAR d type=kotlin.Int operator=null
                  other: CONST Int type=kotlin.Int value='2'
                other: CONST Int type=kotlin.Int value='10'
      FUN private final fun printOneDigit(): kotlin.Unit
        BLOCK_BODY
          WHILE label=null operator=WHILE_LOOP
            condition: CALL .not type=kotlin.Boolean operator=EXCL
              $this: CALL .isEmpty type=kotlin.Boolean operator=null
                $this: CALL .<get-buffer> type=java.util.ArrayDeque<kotlin.Char> operator=GET_PROPERTY
                  $this: THIS public final class Luhny type=mask.Luhny
            body: BLOCK type=kotlin.Unit operator=null
              VAR val c: kotlin.Char
                BLOCK type=kotlin.Char operator=EXCLEXCL
                  VAR val tmp0_notnull: kotlin.Char!
                    CALL .removeFirst type=kotlin.Char! operator=null
                      $this: CALL .<get-buffer> type=java.util.ArrayDeque<kotlin.Char> operator=GET_PROPERTY
                        $this: THIS public final class Luhny type=mask.Luhny
                  WHEN type=kotlin.Char operator=null
                    if: CALL .EQEQ type=kotlin.Boolean operator=EQEQ
                      arg0: GET_VAR tmp0_notnull type=kotlin.Char! operator=null
                      arg1: CONST Null type=kotlin.Nothing? value='null'
                    then: CALL .THROW_NPE type=kotlin.Nothing operator=EXCLEXCL
                    else: TYPE_OP operator=IMPLICIT_NOTNULL typeOperand=kotlin.Char
                      GET_VAR tmp0_notnull type=kotlin.Char! operator=null
              CALL .print type=kotlin.Unit operator=null
                $this: THIS public final class Luhny type=mask.Luhny
                c: GET_VAR c type=kotlin.Char operator=null
              WHEN type=kotlin.Unit operator=IF
                if: CALL .isDigit type=kotlin.Boolean operator=null
                  $receiver: GET_VAR c type=kotlin.Char operator=null
                then: BLOCK type=kotlin.Nothing operator=null
                  CALL .removeFirst type=kotlin.Int! operator=null
                    $this: CALL .<get-digits> type=java.util.ArrayDeque<kotlin.Int> operator=GET_PROPERTY
                      $this: THIS public final class Luhny type=mask.Luhny
                  RETURN type=kotlin.Nothing from=printOneDigit
      FUN public final fun printAll(): kotlin.Unit
        BLOCK_BODY
          WHILE label=null operator=WHILE_LOOP
            condition: CALL .not type=kotlin.Boolean operator=EXCL
              $this: CALL .isEmpty type=kotlin.Boolean operator=null
                $this: CALL .<get-buffer> type=java.util.ArrayDeque<kotlin.Char> operator=GET_PROPERTY
                  $this: THIS public final class Luhny type=mask.Luhny
            body: CALL .print type=kotlin.Unit operator=null
              $this: THIS public final class Luhny type=mask.Luhny
              c: TYPE_OP operator=IMPLICIT_NOTNULL typeOperand=kotlin.Char
                CALL .removeFirst type=kotlin.Char! operator=null
                  $this: CALL .<get-buffer> type=java.util.ArrayDeque<kotlin.Char> operator=GET_PROPERTY
                    $this: THIS public final class Luhny type=mask.Luhny
          CALL .clear type=kotlin.Unit operator=null
            $this: CALL .<get-digits> type=java.util.ArrayDeque<kotlin.Int> operator=GET_PROPERTY
              $this: THIS public final class Luhny type=mask.Luhny
      FUN private final fun print(/*0*/ c: kotlin.Char): kotlin.Unit
        BLOCK_BODY
          WHEN type=kotlin.Any operator=IF
            if: WHEN type=kotlin.Boolean operator=ANDAND
              if: CALL .isDigit type=kotlin.Boolean operator=null
                $receiver: GET_VAR c type=kotlin.Char operator=null
              then: CALL .GT0 type=kotlin.Boolean operator=GT
                arg0: CALL .compareTo type=kotlin.Int operator=GT
                  $this: CALL .<get-toBeMasked> type=kotlin.Int operator=GET_PROPERTY
                    $this: THIS public final class Luhny type=mask.Luhny
                  other: CONST Int type=kotlin.Int value='0'
              else: CONST Boolean type=kotlin.Boolean value='false'
            then: BLOCK type=kotlin.Int operator=null
              CALL .print type=kotlin.Unit operator=null
                message: CONST Char type=kotlin.Char value='X'
              BLOCK type=kotlin.Int operator=POSTFIX_DECR
                VAR val tmp0_this: mask.Luhny
                  THIS public final class Luhny type=mask.Luhny
                BLOCK type=kotlin.Int operator=POSTFIX_DECR
                  VAR val tmp1: kotlin.Int
                    CALL .<get-toBeMasked> type=kotlin.Int operator=POSTFIX_DECR
                      $this: GET_VAR tmp0_this type=mask.Luhny operator=null
                  CALL .<set-toBeMasked> type=kotlin.Unit operator=POSTFIX_DECR
                    $this: GET_VAR tmp0_this type=mask.Luhny operator=null
                    <set-?>: CALL .dec type=kotlin.Int operator=POSTFIX_DECR
                      $this: GET_VAR tmp1 type=kotlin.Int operator=null
                  GET_VAR tmp1 type=kotlin.Int operator=null
            else: BLOCK type=kotlin.Unit operator=null
    FUN public fun kotlin.collections.Iterable<kotlin.Int>.sum(/*0*/ f: (kotlin.Int, kotlin.Int) -> kotlin.Int): kotlin.Int
      BLOCK_BODY
        VAR var sum: kotlin.Int
          CONST Int type=kotlin.Int value='0'
        VAR var i: kotlin.Int
          CONST Int type=kotlin.Int value='0'
        BLOCK type=kotlin.Unit operator=FOR_LOOP
          VAR val tmp0_iterator: kotlin.collections.Iterator<kotlin.Int>
            CALL .iterator type=kotlin.collections.Iterator<kotlin.Int> operator=FOR_LOOP_ITERATOR
              $this: $RECEIVER of: sum type=kotlin.collections.Iterable<kotlin.Int>
          WHILE label=null operator=FOR_LOOP_INNER_WHILE
            condition: CALL .hasNext type=kotlin.Boolean operator=FOR_LOOP_HAS_NEXT
              $this: GET_VAR tmp0_iterator type=kotlin.collections.Iterator<kotlin.Int> operator=null
            body: BLOCK type=kotlin.Unit operator=FOR_LOOP_INNER_WHILE
              VAR val d: kotlin.Int
                CALL .next type=kotlin.Int operator=FOR_LOOP_NEXT
                  $this: GET_VAR tmp0_iterator type=kotlin.collections.Iterator<kotlin.Int> operator=null
              BLOCK type=kotlin.Int operator=null
                SET_VAR sum type=kotlin.Unit operator=PLUSEQ
                  CALL .plus type=kotlin.Int operator=PLUSEQ
                    $this: GET_VAR sum type=kotlin.Int operator=PLUSEQ
                    other: CALL .invoke type=kotlin.Int operator=INVOKE
                      $this: GET_VAR f type=(kotlin.Int, kotlin.Int) -> kotlin.Int operator=VARIABLE_AS_FUNCTION
                      p1: GET_VAR i type=kotlin.Int operator=null
                      p2: GET_VAR d type=kotlin.Int operator=null
                BLOCK type=kotlin.Int operator=POSTFIX_INCR
                  VAR val tmp1: kotlin.Int
                    GET_VAR i type=kotlin.Int operator=POSTFIX_INCR
                  SET_VAR i type=kotlin.Unit operator=POSTFIX_INCR
                    CALL .inc type=kotlin.Int operator=POSTFIX_INCR
                      $this: GET_VAR tmp1 type=kotlin.Int operator=null
                  GET_VAR tmp1 type=kotlin.Int operator=null
        RETURN type=kotlin.Nothing from=sum
          GET_VAR sum type=kotlin.Int operator=null
    FUN public fun java.io.Reader.forEachChar(/*0*/ body: (kotlin.Char) -> kotlin.Unit): kotlin.Unit
      BLOCK_BODY
        DO_WHILE label=null operator=DO_WHILE_LOOP
          body: BLOCK type=kotlin.Unit operator=null
            VAR var i: kotlin.Int
              CALL .read type=kotlin.Int operator=null
                $this: $RECEIVER of: forEachChar type=java.io.Reader
            WHEN type=kotlin.Unit operator=IF
              if: CALL .EQEQ type=kotlin.Boolean operator=EQEQ
                arg0: GET_VAR i type=kotlin.Int operator=null
                arg1: CONST Int type=kotlin.Int value='-1'
              then: BREAK label=null loop.label=null depth=0
            CALL .invoke type=kotlin.Unit operator=INVOKE
              $this: GET_VAR body type=(kotlin.Char) -> kotlin.Unit operator=VARIABLE_AS_FUNCTION
              p1: CALL .toChar type=kotlin.Char operator=null
                $this: GET_VAR i type=kotlin.Int operator=null
          condition: CONST Boolean type=kotlin.Boolean value='true'
