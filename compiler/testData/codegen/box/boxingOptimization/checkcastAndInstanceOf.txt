MODULE <test-module>
  FILE /checkcastAndInstanceOf.kt
    FUN public inline fun </*0*/ R, /*1*/ T> foo(/*0*/ x: R, /*1*/ y: R, /*2*/ block: (R) -> T): T
      BLOCK_BODY
        VAR val a: kotlin.Boolean
          TYPE_OP operator=INSTANCEOF typeOperand=kotlin.Number
            GET_VAR x type=R operator=null
        VAR val b: kotlin.Boolean
          TYPE_OP operator=INSTANCEOF typeOperand=java.lang.Object
            GET_VAR x type=R operator=null
        VAR val b1: java.lang.Object
          TYPE_OP operator=CAST typeOperand=java.lang.Object
            GET_VAR x type=R operator=null
        WHEN type=kotlin.Nothing operator=IF
          if: WHEN type=kotlin.Boolean operator=ANDAND
            if: GET_VAR a type=kotlin.Boolean operator=null
            then: GET_VAR b type=kotlin.Boolean operator=null
            else: CONST Boolean type=kotlin.Boolean value='false'
          then: BLOCK type=kotlin.Nothing operator=null
            RETURN type=kotlin.Nothing from=foo
              CALL .invoke type=T operator=INVOKE
                $this: GET_VAR block type=(R) -> T operator=VARIABLE_AS_FUNCTION
                p1: GET_VAR x type=R operator=null
          else: BLOCK type=kotlin.Nothing operator=null
            RETURN type=kotlin.Nothing from=foo
              CALL .invoke type=T operator=INVOKE
                $this: GET_VAR block type=(R) -> T operator=VARIABLE_AS_FUNCTION
                p1: GET_VAR y type=R operator=null
    FUN public fun box(): kotlin.String
      BLOCK_BODY
        CALL .assertEquals type=kotlin.Unit operator=null
          expected: CONST Int type=kotlin.Int value='1'
          actual: CALL .foo type=kotlin.Int operator=null
            x: CONST Int type=kotlin.Int value='1'
            y: CONST Int type=kotlin.Int value='2'
            block: BLOCK type=(kotlin.Int) -> kotlin.Int operator=LAMBDA
              FUN local final fun <anonymous>(/*0*/ x: kotlin.Int): kotlin.Int
                BLOCK_BODY
                  RETURN type=kotlin.Nothing from=<anonymous>
                    TYPE_OP operator=CAST typeOperand=kotlin.Int
                      GET_VAR x type=kotlin.Int operator=null
              CALLABLE_REFERENCE <anonymous> type=(kotlin.Int) -> kotlin.Int operator=LAMBDA
        CALL .assertEquals type=kotlin.Unit operator=null
          expected: CONST String type=kotlin.String value='def'
          actual: CALL .foo type=kotlin.String operator=null
            x: CONST String type=kotlin.String value='abc'
            y: CONST String type=kotlin.String value='def'
            block: BLOCK type=(kotlin.String) -> kotlin.String operator=LAMBDA
              FUN local final fun <anonymous>(/*0*/ x: kotlin.String): kotlin.String
                BLOCK_BODY
                  RETURN type=kotlin.Nothing from=<anonymous>
                    TYPE_OP operator=CAST typeOperand=kotlin.String
                      GET_VAR x type=kotlin.String operator=null
              CALLABLE_REFERENCE <anonymous> type=(kotlin.String) -> kotlin.String operator=LAMBDA
        RETURN type=kotlin.Nothing from=box
          CONST String type=kotlin.String value='OK'
